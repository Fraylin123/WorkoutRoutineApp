{"ast":null,"code":"import{useState,useEffect,useContext}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./UserAuth.css\";import axios from'axios';import{AuthContext}from\"./AuthContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function UserAuth(){const[status,setStatus]=useState(\"Sign in\");const[alternate,setAlternate]=useState(\"Sign up\");const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[confirmationPassword,setConfirmationPassword]=useState(\"\");const[email,setEmail]=useState(\"\");const navigate=useNavigate();const{checkAuth,authenticated}=useContext(AuthContext);const handleStatus=event=>{event.preventDefault();if(event.target.textContent===\"Sign up\"){if(alternate!==\"Sign in\")setAlternate(\"Sign in\");}else{setAlternate(\"Sign up\");}setStatus(event.target.textContent);setUsername(\"\");setEmail(\"\");setPassword(\"\");};const handleSubmit=async e=>{e.preventDefault();if(status==\"Sign in\"){try{const res=await axios.post('http://localhost:5000/login',{username,password},{withCredentials:true});console.log(res.data);await checkAuth();navigate(\"/WorkoutRoutineApp/Home\");}catch(error){alert(\"Wrong credentials\");}}else{if(password==confirmationPassword){try{const res=await axios.post('http://localhost:5000/register',{username,password,email});window.location.reload();}catch(error){console.log(\"The error is\",error);}}else{alert(\"Passwords dont match\");}}};useEffect(()=>{if(authenticated){navigate(\"/WorkoutRoutineApp/Home\");}},[authenticated]);return/*#__PURE__*/_jsx(\"div\",{className:\"authMain\",children:/*#__PURE__*/_jsx(\"div\",{className:\"user-authentication-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-container\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-heading\",children:[/*#__PURE__*/_jsx(\"span\",{children:status==\"Sign in\"?\"Sign in\":\"Sign up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"underline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",required:true,onChange:e=>setUsername(e.target.value),value:username})}),status===\"Sign up\"&&/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",required:true,onChange:e=>setEmail(e.target.value),value:email})}),/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",required:true,onChange:e=>setPassword(e.target.value),value:password})}),status===\"Sign up\"&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm password\",onChange:e=>{setConfirmationPassword(e.target.value);},value:confirmationPassword,required:true})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"submit-container\",children:/*#__PURE__*/_jsx(\"button\",{children:status})}),/*#__PURE__*/_jsx(\"div\",{className:\"sign-up\",children:/*#__PURE__*/_jsx(\"button\",{onClick:event=>handleStatus(event),children:alternate})})]})})});}export default UserAuth;","map":{"version":3,"names":["useState","useEffect","useContext","useNavigate","axios","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserAuth","status","setStatus","alternate","setAlternate","username","setUsername","password","setPassword","confirmationPassword","setConfirmationPassword","email","setEmail","navigate","checkAuth","authenticated","handleStatus","event","preventDefault","target","textContent","handleSubmit","e","res","post","withCredentials","console","log","data","error","alert","window","location","reload","className","children","onSubmit","type","placeholder","required","onChange","value","onClick"],"sources":["C:/Users/Fraylin/Desktop/routineAppCopy/frontend/src/UserAuth.js"],"sourcesContent":["import { useState, useEffect, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./UserAuth.css\"\r\nimport axios from 'axios'\r\nimport { AuthContext } from \"./AuthContext\";\r\n\r\n\r\n\r\nfunction UserAuth() {\r\n    const [status, setStatus] = useState(\"Sign in\")\r\n    const [alternate, setAlternate] = useState(\"Sign up\")\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [confirmationPassword, setConfirmationPassword] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const navigate = useNavigate();\r\n    const { checkAuth, authenticated } = useContext(AuthContext);\r\n\r\n\r\n    const handleStatus = (event) => {\r\n        event.preventDefault()\r\n\r\n        if (event.target.textContent === \"Sign up\") {\r\n            if (alternate !== \"Sign in\")\r\n                setAlternate(\"Sign in\")\r\n        }\r\n        else {\r\n            setAlternate(\"Sign up\")\r\n        }\r\n        setStatus(event.target.textContent)\r\n        setUsername(\"\")\r\n        setEmail(\"\")\r\n        setPassword(\"\")\r\n    }\r\n\r\n\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n\r\n        if (status == \"Sign in\") {\r\n            try {\r\n                const res = await axios.post('http://localhost:5000/login', { username, password }, { withCredentials: true })\r\n\r\n                console.log(res.data)\r\n                await checkAuth()\r\n                navigate(\"/WorkoutRoutineApp/Home\")\r\n\r\n\r\n            } catch (error) {\r\n                alert(\"Wrong credentials\")\r\n            }\r\n\r\n        }\r\n        else {\r\n            if (password == confirmationPassword) {\r\n                try {\r\n                    const res = await axios.post('http://localhost:5000/register', { username, password, email });\r\n                    window.location.reload();\r\n                } catch (error) {\r\n                    console.log(\"The error is\", error);\r\n                }\r\n            }\r\n            else{\r\n                alert(\"Passwords dont match\")\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (authenticated) {\r\n            navigate(\"/WorkoutRoutineApp/Home\")\r\n        }\r\n\r\n    }, [authenticated])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"authMain\">\r\n            <div className=\"user-authentication-container\">\r\n                <form className=\"form-container\" onSubmit={handleSubmit}>\r\n                    <div className=\"user-heading\">\r\n                        <span>{status == \"Sign in\" ? \"Sign in\" : \"Sign up\"}</span>\r\n                        <div className=\"underline\"></div>\r\n                    </div>\r\n                    <div className=\"inputs\">\r\n                        <div className=\"input\">\r\n                            <input type=\"text\" placeholder=\"Username\" required onChange={(e) => setUsername(e.target.value)} value={username} />\r\n                        </div>\r\n\r\n                        {status === \"Sign up\" &&\r\n                            <div className=\"input\">\r\n                                <input type=\"email\" placeholder=\"Email\" required onChange={(e) => setEmail(e.target.value)} value={email} />\r\n                            </div>\r\n                        }\r\n\r\n                        <div className=\"input\">\r\n                            <input type=\"password\" placeholder=\"Password\" required onChange={(e) => setPassword(e.target.value)} value={password} />\r\n                        </div>\r\n                        {status === \"Sign up\" &&\r\n                            <>\r\n                                <div className=\"input\">\r\n                                    <input type=\"password\" placeholder=\"Confirm password\" onChange={(e) => { setConfirmationPassword(e.target.value) }} value={confirmationPassword} required />\r\n                                </div>\r\n                            </>\r\n                        }\r\n\r\n                    </div>\r\n\r\n                    <div className=\"submit-container\">\r\n                        <button>{status}</button>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"sign-up\">\r\n                        <button onClick={(event) => handleStatus(event)}>{alternate}</button>\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default UserAuth;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}