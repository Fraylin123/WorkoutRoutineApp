{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fraylin\\\\Desktop\\\\routineAppCopy\\\\frontend\\\\src\\\\UserAuth.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./UserAuth.css\";\nimport axios from 'axios';\nimport { AuthContext } from \"./AuthContext\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction UserAuth() {\n  _s();\n  const [status, setStatus] = useState(\"Sign in\");\n  const [alternate, setAlternate] = useState(\"Sign up\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmationPassword, setConfirmationPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const navigate = useNavigate();\n  const {\n    checkAuth,\n    authenticated\n  } = useContext(AuthContext);\n  const handleStatus = event => {\n    event.preventDefault();\n    if (event.target.textContent === \"Sign up\") {\n      if (alternate !== \"Sign in\") setAlternate(\"Sign in\");\n    } else {\n      setAlternate(\"Sign up\");\n    }\n    setStatus(event.target.textContent);\n    setUsername(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (status == \"Sign in\") {\n      try {\n        const res = await axios.post('http://localhost:5000/api/auth/login', {\n          username,\n          password\n        }, {\n          withCredentials: true\n        });\n        console.log(res.data);\n        await checkAuth();\n        navigate(\"/WorkoutRoutineApp/Home\");\n      } catch (error) {\n        alert(\"Wrong credentials\");\n      }\n    } else {\n      if (password == confirmationPassword) {\n        try {\n          const res = await axios.post('http://localhost:5000/register', {\n            username,\n            password,\n            email\n          });\n          window.location.reload();\n        } catch (error) {\n          console.log(\"The error is\", error);\n        }\n      } else {\n        alert(\"Passwords dont match\");\n      }\n    }\n  };\n  useEffect(() => {\n    if (authenticated) {\n      navigate(\"/WorkoutRoutineApp/Home\");\n    }\n  }, [authenticated]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"authMain\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-authentication-container\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-container\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-heading\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: status == \"Sign in\" ? \"Sign in\" : \"Sign up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"underline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Username\",\n              required: true,\n              onChange: e => setUsername(e.target.value),\n              value: username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this), status === \"Sign up\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              placeholder: \"Email\",\n              required: true,\n              onChange: e => setEmail(e.target.value),\n              value: email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              placeholder: \"Password\",\n              required: true,\n              onChange: e => setPassword(e.target.value),\n              value: password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), status === \"Sign up\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                placeholder: \"Confirm password\",\n                onChange: e => {\n                  setConfirmationPassword(e.target.value);\n                },\n                value: confirmationPassword,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 33\n            }, this)\n          }, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"submit-container\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            children: status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sign-up\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: event => handleStatus(event),\n            children: alternate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n_s(UserAuth, \"0k9USUoiI5//mFG5w4klrXOMLNY=\", false, function () {\n  return [useNavigate];\n});\n_c = UserAuth;\nexport default UserAuth;\nvar _c;\n$RefreshReg$(_c, \"UserAuth\");","map":{"version":3,"names":["useState","useEffect","useContext","useNavigate","axios","AuthContext","jsxDEV","_jsxDEV","Fragment","_Fragment","UserAuth","_s","status","setStatus","alternate","setAlternate","username","setUsername","password","setPassword","confirmationPassword","setConfirmationPassword","email","setEmail","navigate","checkAuth","authenticated","handleStatus","event","preventDefault","target","textContent","handleSubmit","e","res","post","withCredentials","console","log","data","error","alert","window","location","reload","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","required","onChange","value","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Fraylin/Desktop/routineAppCopy/frontend/src/UserAuth.js"],"sourcesContent":["import { useState, useEffect, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./UserAuth.css\"\r\nimport axios from 'axios'\r\nimport { AuthContext } from \"./AuthContext\";\r\n\r\nfunction UserAuth() {\r\n    const [status, setStatus] = useState(\"Sign in\")\r\n    const [alternate, setAlternate] = useState(\"Sign up\")\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [confirmationPassword, setConfirmationPassword] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const navigate = useNavigate();\r\n    const { checkAuth, authenticated } = useContext(AuthContext);\r\n\r\n\r\n    const handleStatus = (event) => {\r\n        event.preventDefault()\r\n\r\n        if (event.target.textContent === \"Sign up\") {\r\n            if (alternate !== \"Sign in\")\r\n                setAlternate(\"Sign in\")\r\n        }\r\n        else {\r\n            setAlternate(\"Sign up\")\r\n        }\r\n        setStatus(event.target.textContent)\r\n        setUsername(\"\")\r\n        setEmail(\"\")\r\n        setPassword(\"\")\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n\r\n        if (status == \"Sign in\") {\r\n            try {\r\n                const res = await axios.post('http://localhost:5000/api/auth/login', { username, password }, { withCredentials: true })\r\n\r\n                console.log(res.data)\r\n                await checkAuth()\r\n                navigate(\"/WorkoutRoutineApp/Home\")\r\n\r\n            } catch (error) {\r\n                alert(\"Wrong credentials\")\r\n            }\r\n\r\n        }\r\n        else {\r\n            if (password == confirmationPassword) {\r\n                try {\r\n                    const res = await axios.post('http://localhost:5000/register', { username, password, email });\r\n                    window.location.reload();\r\n                } catch (error) {\r\n                    console.log(\"The error is\", error);\r\n                }\r\n            }\r\n            else{\r\n                alert(\"Passwords dont match\")\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (authenticated) {\r\n            navigate(\"/WorkoutRoutineApp/Home\")\r\n        }\r\n\r\n    }, [authenticated])\r\n\r\n    return (\r\n        <div className=\"authMain\">\r\n            <div className=\"user-authentication-container\">\r\n                <form className=\"form-container\" onSubmit={handleSubmit}>\r\n                    <div className=\"user-heading\">\r\n                        <span>{status == \"Sign in\" ? \"Sign in\" : \"Sign up\"}</span>\r\n                        <div className=\"underline\"></div>\r\n                    </div>\r\n                    <div className=\"inputs\">\r\n                        <div className=\"input\">\r\n                            <input type=\"text\" placeholder=\"Username\" required onChange={(e) => setUsername(e.target.value)} value={username} />\r\n                        </div>\r\n\r\n                        {status === \"Sign up\" &&\r\n                            <div className=\"input\">\r\n                                <input type=\"email\" placeholder=\"Email\" required onChange={(e) => setEmail(e.target.value)} value={email} />\r\n                            </div>\r\n                        }\r\n\r\n                        <div className=\"input\">\r\n                            <input type=\"password\" placeholder=\"Password\" required onChange={(e) => setPassword(e.target.value)} value={password} />\r\n                        </div>\r\n                        {status === \"Sign up\" &&\r\n                            <>\r\n                                <div className=\"input\">\r\n                                    <input type=\"password\" placeholder=\"Confirm password\" onChange={(e) => { setConfirmationPassword(e.target.value) }} value={confirmationPassword} required />\r\n                                </div>\r\n                            </>\r\n                        }\r\n\r\n                    </div>\r\n\r\n                    <div className=\"submit-container\">\r\n                        <button>{status}</button>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"sign-up\">\r\n                        <button onClick={(event) => handleStatus(event)}>{alternate}</button>\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default UserAuth;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}